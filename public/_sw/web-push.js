var sw=self;sw.addEventListener("push",(function(n){var i,t=null===(i=n.data)||void 0===i?void 0:i.json();if(t){var o=t.title,e=t.body,r=t.icon,a={url:t.url};n.waitUntil(sw.registration.showNotification(o,{body:e,icon:r,data:a}))}})),sw.addEventListener("notificationclick",(function(n){n.notification.close();var i=sw.clients;n.waitUntil(i.matchAll({type:"window",includeUncontrolled:!0}).then((function(t){var o=(n.notification.data||{}).url||sw.location.origin;function e(n){return n&&n.focus?n.focus():Promise.resolve(null)}function r(n){return n&&n.navigate?n.navigate(o):Promise.resolve(null)}for(var a=0;a<t.length;a++){var l=t[a];if(l.url===o)return e(l).then(r)}return i.openWindow(o).then(e)})))}));