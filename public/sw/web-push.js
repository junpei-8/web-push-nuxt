var sw=self;sw.addEventListener("push",(function(n){var i,t=null===(i=n.data)||void 0===i?void 0:i.json();if(t){var o=t.title,e=t.body,r=t.icon,a={url:t.url};n.waitUntil(sw.registration.showNotification(o,{body:e,icon:r,data:a}))}})),sw.addEventListener("notificationclick",(function(n){n.notification.close();var i=sw.clients;n.waitUntil(i.matchAll({type:"window",includeUncontrolled:!0}).then((function(t){var o=n.notification.data||{},e=sw.location.origin+o.url||"";function r(n){return n&&n.focus?n.focus():Promise.resolve(null)}function a(n){return n&&n.navigate?n.navigate(e):Promise.resolve(null)}for(var l=0;l<t.length;l++){var c=t[l];if(c.url===e)return r(c).then(a)}return i.openWindow(e).then(r)})))}));