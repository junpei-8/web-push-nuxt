var sw=self;sw.addEventListener("push",(function(n){var t,i=null===(t=n.data)||void 0===t?void 0:t.json();if(i){var a=i.title,o=i.content,e=i.icon,r={pathname:i.pathname};n.waitUntil(sw.registration.showNotification(a,{body:o,icon:e,data:r}))}})),sw.addEventListener("notificationclick",(function(n){n.notification.close();var t=sw.clients;n.waitUntil(t.matchAll({type:"window",includeUncontrolled:!0}).then((function(i){var a=i.length,o=(n.notification.data||{}).pathname||"",e=sw.location.origin+o;function r(n){return n.postMessage({type:"navigation",pathname:o}),n.focus?n.focus().then((function(n){return n.postMessage({type:"navigation",pathname:o}),n})):Promise.resolve(null)}if(!a)return t.openWindow(e);for(var s=0;s<a;s++){var c=i[s];if(c.url===e)return r(c)}return r(i[0])})))}));