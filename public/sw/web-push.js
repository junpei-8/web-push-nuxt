var sw=self;sw.addEventListener("push",(function(t){var i,n=null===(i=t.data)||void 0===i?void 0:i.json();if(n){var r=n.title,a=n.body,e=n.icon,o={url:n.url};t.waitUntil(sw.registration.showNotification(r,{body:a,icon:e,data:o}))}}));var targetUrl="",targetClientUrl="";sw.addEventListener("notificationclick",(function(t){t.notification.close();var i=sw.clients;t.waitUntil(i.matchAll({type:"window"}).then((function(n){for(var r=t.notification.data||{},a=sw.location.origin+r.url||"",e=0;e<n.length;e++){var o=n[e];if(o.focus&&o.url===a)return targetClientUrl=o.url,o.focus()}return i.openWindow(a)})))})),sw.addEventListener("message",(function(t){var i=t.source;i&&targetUrl&&(i.postMessage({type:"navigation",url:targetUrl,targetClientUrl:targetClientUrl}),targetUrl="")}));