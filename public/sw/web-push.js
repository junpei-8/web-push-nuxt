var sw=self;sw.addEventListener("install",(function(n){sw.skipWaiting()})),sw.addEventListener("push",(function(n){var t,i=null===(t=n.data)||void 0===t?void 0:t.json();if(i){var o=i.title,a=i.content,e=i.icon,s={pathname:i.pathname};sw.skipWaiting(),n.waitUntil(sw.registration.showNotification(o,{body:a,icon:e,data:s}))}})),sw.addEventListener("notificationclick",(function(n){n.stopImmediatePropagation(),n.notification.close();var t=sw.clients;n.waitUntil(t.matchAll({type:"window",includeUncontrolled:!0}).then((function(i){console.log(i);var o=i.length,a=(n.notification.data||{}).pathname||"",e=sw.location.origin+a;function s(n){return n.focus?(n.postMessage({type:"navigation",pathname:a}),n.focus()):Promise.resolve(null)}if(!o)return t.openWindow(e);for(var r=0;r<o;r++){var l=i[r];if(l.url===e)return s(l)}return s(i[0])})))}));