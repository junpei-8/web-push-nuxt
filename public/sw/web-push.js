var sw=self;sw.addEventListener("install",(function(){sw.skipWaiting()})),sw.addEventListener("activate",(function(n){n.waitUntil(sw.clients.claim())})),sw.addEventListener("push",(function(n){var t,i=null===(t=n.data)||void 0===t?void 0:t.json();if(i){var a=i.title,e=i.content,o=i.icon,r={pathname:i.pathname};n.waitUntil(sw.registration.showNotification(a,{body:e,icon:o,data:r}))}})),sw.addEventListener("notificationclick",(function(n){n.stopImmediatePropagation(),n.notification.close();var t=sw.clients;n.waitUntil(t.matchAll({type:"window",includeUncontrolled:!0}).then((function(i){var a,e=i.length,o=/^https?:\/\/[^\/]+(\/[^?]*)/,r=(n.notification.data||{}).pathname||"",s=r.length;function c(n){return n.focus?n.focus().then((function(){return n.postMessage({type:"navigation",pathname:r}),n})):Promise.resolve(null)}function l(n){for(var t=0,i=0;i<s&&r[i]===n[i];i++)t++;return t}for(var f=0,u=0;u<e;u++){var d=i[u],v=(d.url.match(o)||[])[1]||"/";if(v===r)return c(d);if("none"===d.frameType)break;var w=l(v);f<=w&&(a=d,f=w)}return a?c(a):t.openWindow(sw.location.origin+r)})))}));