var sw=self;sw.addEventListener("install",(function(){sw.skipWaiting()})),sw.addEventListener("activate",(function(n){n.waitUntil(sw.clients.claim());try{console.log("activate!"),fetch("https://web-push-nuxt.vercel.app/api/hello",{method:"GET"}).then((function(n){console.log("hello!"),n.json().then((function(n){return console.log(n)}))}))}catch(n){console.error(n)}})),sw.addEventListener("push",(function(n){var t,e=null===(t=n.data)||void 0===t?void 0:t.json();if(e){var i=e.title,o=e.content,a=e.icon,r={pathname:e.pathname};n.waitUntil(sw.registration.showNotification(i,{body:o,icon:a,data:r}))}})),sw.addEventListener("notificationclick",(function(n){n.stopImmediatePropagation(),n.notification.close();var t=sw.clients;n.waitUntil(t.matchAll({type:"window",includeUncontrolled:!0}).then((function(e){var i,o=e.length,a=/^https?:\/\/[^\/]+(\/[^?]*)/,r=(n.notification.data||{}).pathname||"",c=r.length;function s(n){return n.focus?n.focus().then((function(){return n.postMessage({type:"navigation",pathname:r}),n})):Promise.resolve(null)}function l(n){for(var t=0,e=0;e<c&&r[e]===n[e];e++)t++;return t}for(var u=0,f=0;f<o;f++){var h=e[f],d=(h.url.match(a)||[])[1]||"/";if(d===r)return s(h);if("none"===h.frameType)break;var v=l(d);u<=v&&(i=h,u=v)}return i?s(i):t.openWindow(sw.location.origin+r)})))}));