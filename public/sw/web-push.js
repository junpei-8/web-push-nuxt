var sw=self;sw.addEventListener("install",(function(){sw.skipWaiting()})),sw.addEventListener("activate",(function(t){t.waitUntil(sw.clients.claim())})),sw.addEventListener("push",(function(t){var n,i=null===(n=t.data)||void 0===n?void 0:n.json();if(i){var a=i.title,e=i.content,o=i.icon,r={pathname:i.pathname};t.waitUntil(sw.registration.showNotification(a,{body:e,icon:o,data:r}))}})),sw.addEventListener("notificationclick",(function(t){t.stopImmediatePropagation(),t.notification.close();var n=sw.clients;t.waitUntil(n.matchAll({type:"window",includeUncontrolled:!0}).then((function(i){var a,e=i.length,o=/^https?:\/\/[^\/]+(\/[^?]*)/,r=(t.notification.data||{}).pathname||"",s=r.length;function c(t){return t.focus().then((function(t){return t.postMessage({type:"navigation",pathname:r}),t}))}function l(t){for(var n=0,i=0;i<s&&r[i]===t[i];i++)n++;return n}for(var f=-1,d=-1,u=0;u<e;u++){var v=i[u],w=(v.url.match(o)||[])[1]||"/";if(w===r)return c(v);if("none"!==v.frameType){var h=l(w);if(!(h<=d)){var p=s-w.length,m=Math.abs(p);m>=f||(a=v,f=m,d=h)}}}return a?c(a):n.openWindow(sw.location.origin+r)})))}));